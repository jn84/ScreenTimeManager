"use strict";function bindForm(n){function u(){var t=$("input.modal-input").serializeArray(),n={};return $.each(t,function(){n[this.name]=this.value}),JSON.stringify(n)}function i(){if(t===null){t=setTimeout(r,1500);return}clearTimeout(t);t=setTimeout(r,1500)}function r(){t=null;$.ajax({url:"RuleBases/UpdatePendingTime",type:"POST",data:{formData:u},success:function(n){var t=$("span#pendingTime");n.success?n.modifier==="add"?(t.text("+ "+n.timespan),t.addClass("pendingTime-add"),t.removeClass("pendingTime-neutral"),t.removeClass("pendingTime-subtract")):(t.text("- "+n.timespan),t.addClass("pendingTime-subtract"),t.removeClass("pendingTime-neutral"),t.removeClass("pendingTime-add")):t.text("I AM ERROR")}})}var t=null;$("#myModalContent").on("input","#minutes-applied",i);$("#myModalContent").on("input","#hours-applied",i);$("button#modal-submit").on("click",function(n){n.preventDefault();$("form#modalForm").submit()});$("form#modalForm",n).submit(function(){return $.ajax({url:this.action,type:this.method,data:$(this).serialize(),success:function(n){n.success?($("#myModal").modal("hide"),n.redirectUrl===null?location.reload():location.replace(n.redirectUrl)):($("#myModalContent").html(n),bindForm())}}),!1})}var numerator,denominator;$(function(){$.ajaxSetup({cache:!1});$("a[data-modal]").on("click",function(){return $("#myModalContent").load(this.href,function(){$("#myModal").modal({backdrop:"static",keyboard:!0},"show");bindForm(this)}),!1})});